import 'cypress-shadow-dom';

describe('date picker reset issues', () => {
  it('date picker should able to set value', () => {
    // Visit the test page
    cy.visit('/bug2056');
    cy.get('goa-date-picker').shadow().find('goa-popover').find('goa-input').shadow().find('input').should('have.value', '');
    cy.get('goa-button#setValue').shadow().find('button[data-testid="setValue"]').click({ force: true });
    cy.get('goa-date-picker').shadow().find('goa-popover').find('goa-input').shadow().find('input').should('have.value', 'September 2nd, 2024');
    cy.get('p#output-string').should('have.text', 'Output string is Mon Sep 02 2024 00:00:00 GMT-0700 (Pacific Daylight Time)');

  });
  it('date picker should able to clear value', () => {
    // Visit the test page
    cy.visit('/bug2056');
    cy.get('goa-date-picker').shadow().find('goa-popover').find('goa-input').shadow().find('input').should('have.value', '');
    cy.get('goa-button#setValue').shadow().find('button[data-testid="setValue"]').click({ force: true });
    cy.get('goa-date-picker').shadow().find('goa-popover').find('goa-input').shadow().find('input').should('have.value', 'September 2nd, 2024');
    cy.get('p#output-string').should('have.text', 'Output string is Mon Sep 02 2024 00:00:00 GMT-0700 (Pacific Daylight Time)');
    cy.get('goa-button#clearValue').shadow().find('button[data-testid="clearValue"]').click({ force: true });
    cy.wait(2000)
  //  cy.get('goa-date-picker').shadow().find('goa-popover').find('goa-input').shadow().find('input').should('have.value', '');
    cy.get('p#output-string').should('have.text', 'Output string is ');


  });

});
